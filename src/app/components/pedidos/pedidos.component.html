<div class="container text-center">
    <h3 class="mt-5">Pedidos</h3>
    <table class="table table-bordered">
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>Cliente</th>
          <th>Producto</th>
          <th>Total</th>
          <th>Fecha Creación</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody id="tablaPedidos">
        <tr *ngFor="let pedido of pedidos; let i = index" style="text-align: center;">
            <td>{{ i + 1 }}</td>
            <td>{{pedido.cliente}}</td>
            <td>{{pedido.producto}}</td>
            <td>{{pedido.total}}</td>
            <td>{{ pedido.fechaCreacion | date: 'dd/MM/yyyy' }}</td>
          <td class="estado-cell text-primary">pendiente</td>
          <td>
            <select class="form-select form-select-sm w-auto d-inline" onchange="cambiarEstado(this)">
              <option value="pendiente" selected>pendiente</option>
              <option value="enviado">enviado</option>
              <option value="entregado">entregado</option>
            </select>
            <button class="btn btn-danger btn-sm ms-2">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <script>
    function cambiarEstado(select) {
      const estado = select.value;
      const tdEstado = select.closest('tr').querySelector('.estado-cell');

      tdEstado.textContent = estado;

      // Remueve clases de color previas de Bootstrap
      tdEstado.classList.remove('text-primary', 'text-warning', 'text-success');

      // Aplica el color según el estado
      if (estado === 'pendiente') tdEstado.classList.add('text-primary');
      if (estado === 'enviado') tdEstado.classList.add('text-warning');
      if (estado === 'entregado') {
        tdEstado.classList.add('text-success');
        select.disabled = true;
      }
    }
  </script>